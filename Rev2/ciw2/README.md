CallIfWhile
===========

Alternative version switches between stack-mode and belt-mode when convenient. This should generate more efficient code that is also correct.
